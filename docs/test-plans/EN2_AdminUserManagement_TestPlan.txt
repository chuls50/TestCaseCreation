# eNOW Admin User Management Feature Test Plan

## Requirements Analysis

| Scenario Name | Requirement | Test Case |
|---------------|-------------|-----------|
| Scenario 1: Institution Profile Specifications | 1.1 Manage Users screen should display when Admin clicks on Users menu | 1.1.1 Verify Manage Users screen is displayed when clicking Users menu |
|  | 1.2 Manage Users screen should have a search box | 1.2.1 Verify search box is present that allows Admins to search for users by name |
|  | 1.3 Manage Users screen should have an Invite Users button | 1.3.1 Verify Invite Users button is present |
|  | 1.4 Manage Users screen should have a filter dropdown | 1.4.1 Verify filter dropdown is present that allows Admins to filter by user roles |
|  | 1.5 Manage Users screen should display rows for each user with correct fields | 1.5.1 Verify each user row displays User Name (not editable by Admin) |
|  |  | 1.5.2 Verify each user row displays Email (not editable by Admin) |
|  |  | 1.5.3 Verify each user row displays Roles assigned to user |
|  |  | 1.5.4 Verify each user row displays Add Roles link |
|  |  | 1.5.5 Verify each user row displays Active toggle or Resend Invite button |
|  |  | 1.5.6 Verify each user row displays Last Updated timestamp |
|
| Scenario 2: Click on Search Text Box | 2.1 Search box should filter users as values are typed | 2.1.1 Verify user list is filtered based on User Name as values are typed |
|  |  | 2.1.2 Verify user list is filtered based on Email as values are typed |
|
| Scenario 3: Click on Filter Dropdown | 3.1 Filter dropdown should filter users by selected role(s) | 3.1.1 Verify user list is filtered to show only users with selected role when role is selected |
|  | 3.2 Filter should recognize Coordinator role (formerly Clinician) | 3.2.1 Verify Coordinator role is available in filter dropdown |
|
| Scenario 4: Click on Invite User Button | 4.1 Invite User popup should display when Invite User button is clicked | 4.1.1 Verify Invite User popup is displayed when clicking Invite User button |
|  | 4.2 Invite User popup should have correct fields | 4.2.1 Verify First Name text field is present |
|  |  | 4.2.2 Verify Last Name text field is present |
|  |  | 4.2.3 Verify Email text field is present |
|  |  | 4.2.4 Verify Institution dropdown defaults to current Institution |
|  |  | 4.2.5 Verify Institution dropdown shows all Institutions Admin has access to (if multiple) |
|  |  | 4.2.6 Verify Role dropdown shows list of available roles (single-select) |
|  | 4.3 Invite User popup should have correct buttons | 4.3.1 Verify Cancel button is always enabled |
|  |  | 4.3.2 Verify Send Invite button is activated when all fields have values |
|
| Scenario 5: Click on Cancel Button on Invite User Popup | 5.1 Cancel button should not send invitation | 5.1.1 Verify invitation is not sent when Cancel button is clicked |
|  | 5.2 Cancel button should dismiss the popup | 5.2.1 Verify Invite User popup is dismissed when Cancel button is clicked |
|
| Scenario 6: Click on Send Invite Button on Invite User Popup | 6.1 Send Invite button should send email invitation | 6.1.1 Verify email is sent to defined email address with registration link |
|  | 6.2 Send Invite button should dismiss the popup | 6.2.1 Verify Invite User popup is dismissed when Send Invite button is clicked |
|
| Scenario 7: Click on "X" on "Role chip" in a Row on the Manage Users Screen | 7.1 Clicking X on role chip should remove that role from user | 7.1.1 Verify role designation is removed when X on role chip is clicked |
|
| Scenario 8: Click on "Add roles" Link in a Row on the Manage Users Screen | 8.1 Add roles link should display list of available roles | 8.1.1 Verify list of available roles is displayed when Add roles link is clicked |
|  | 8.2 Selected role should be added to user's roles | 8.2.1 Verify selected role is added to user's list of roles |
|  | 8.3 Adding Provider role should trigger Provider onboarding | 8.3.1 Verify Provider onboarding screen is presented on next login when Provider role is added |
|  | 8.4 Coordinator role should be available (formerly Clinician) | 8.4.1 Verify Coordinator role is available in Add roles list |
|
| Scenario 9: Click on "Active" Toggle in a Row on the Manage Users Screen - Toggle Off | 9.1 Clicking Active toggle when off should re-activate user | 9.1.1 Verify user is re-activated when Active toggle is clicked while off |
|  | 9.2 Active toggle should switch to On state | 9.2.1 Verify Active toggle switches to On state when clicked while off |
|
| Scenario 10: Click on "Active" Toggle in a Row on the Manage Users Screen - Toggle On | 10.1 Clicking Active toggle when on should deactivate user | 10.1.1 Verify user is deactivated when Active toggle is clicked while on |
|  | 10.2 Active toggle should switch to Off state | 10.2.1 Verify Active toggle switches to Off state when clicked while on |

## Detailed Test Cases

| Test Case ID | Test Scenario | Expected Result | Test Data |
|--------------|---------------|-----------------|-----------|
| 1.1.1 | Click on Users menu in left navigation area | Manage Users screen is displayed | N/A |
| 1.2.1 | View Manage Users screen | Search box is present that allows searching for users by name | N/A |
| 1.3.1 | View Manage Users screen | Invite Users button is present | N/A |
| 1.4.1 | View Manage Users screen | Filter dropdown is present that allows filtering by user roles | N/A |
| 1.5.1 | View user rows on Manage Users screen | User Name field is displayed and not editable by Admin | N/A |
| 1.5.2 | View user rows on Manage Users screen | Email field is displayed and not editable by Admin | N/A |
| 1.5.3 | View user rows on Manage Users screen | Roles assigned to user are displayed | N/A |
| 1.5.4 | View user rows on Manage Users screen | Add Roles link is displayed | N/A |
| 1.5.5 | View user rows on Manage Users screen | Active toggle is displayed for registered users, or Resend Invite button for invited but unregistered users | Registered user, Invited but unregistered user |
| 1.5.6 | View user rows on Manage Users screen | Last Updated timestamp is displayed | N/A |
| 2.1.1 | Type in Search text box | User list is filtered based on matching User Name values | User names: "John Smith", "Jane Doe" |
| 2.1.2 | Type in Search text box | User list is filtered based on matching Email values | Emails: "john@example.com", "jane@example.com" |
| 3.1.1 | Select one or more roles from Filter dropdown | User list is filtered to show only users with selected role(s) | Roles: Administrator, Coordinator, Provider |
| 3.2.1 | View Filter dropdown | Coordinator role is available in dropdown (formerly Clinician) | N/A |
| 4.1.1 | Click Invite User button | Invite User popup is displayed | N/A |
| 4.2.1 | View Invite User popup | First Name text field is present | N/A |
| 4.2.2 | View Invite User popup | Last Name text field is present | N/A |
| 4.2.3 | View Invite User popup | Email text field is present | N/A |
| 4.2.4 | View Invite User popup | Institution dropdown defaults to current Institution | Current Institution name |
| 4.2.5 | View Invite User popup with multi-institution Admin | Institution dropdown shows all Institutions Admin has access to | Multiple Institution names |
| 4.2.6 | View Invite User popup | Role dropdown shows list of available roles (single-select) | N/A |
| 4.3.1 | View Invite User popup | Cancel button is always enabled | N/A |
| 4.3.2 | Fill all fields in Invite User popup | Send Invite button becomes enabled when all fields have values | First Name: "John", Last Name: "Smith", Email: "john.smith@example.com", Institution: "Test Clinic", Role: "Coordinator" |
| 5.1.1 | Fill popup and click Cancel button | Invitation is not sent | User details entered |
| 5.2.1 | Click Cancel button on popup | Invite User popup is dismissed | N/A |
| 6.1.1 | Fill all fields and click Send Invite button | Email with registration link is sent to defined email address | Email: "newuser@example.com" |
| 6.2.1 | Click Send Invite button | Invite User popup is dismissed | N/A |
| 7.1.1 | Click X on a role chip for a user | Role designation is removed from that user | Role: "Coordinator" |
| 8.1.1 | Click Add roles link for a user | List of available roles is displayed | N/A |
| 8.2.1 | Select a role from Add roles list | Selected role is added to user's list of roles | Roles: Administrator, Coordinator, Provider |
| 8.3.1 | Add Provider role to a user | Provider onboarding screen is presented to user on next login | Role: "Provider" |
| 8.4.1 | View Add roles list | Coordinator role is available (formerly Clinician) | N/A |
| 9.1.1 | Click Active toggle when it is off (deactivated) | User is re-activated | Deactivated user account |
| 9.2.1 | Click Active toggle when it is off | Active toggle switches to On state | Deactivated user account |
| 10.1.1 | Click Active toggle when it is on (active) | User is deactivated | Active user account |
| 10.2.1 | Click Active toggle when it is on | Active toggle switches to Off state | Active user account |
