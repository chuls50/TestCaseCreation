# eNOW Admin User Management Feature Test Suite

## Introduction

This test suite covers the functionality of the "Admin User Management" feature for the eNOW system based on the user stories and requirements. It includes detailed test steps, test data, and expected results for each scenario identified in the Admin User Management user story. The suite covers managing users, inviting new users, assigning roles, and activating/deactivating users.

## Test Environment Requirements

- Access to eNOW test environment
- Valid Institution Administrator account with appropriate permissions
- Multiple test user accounts with various roles
- Test email server or email monitoring capability for invitation testing
- Access to multiple institutions (for multi-institution admin testing)
- Modern web browsers (Chrome, Firefox, Safari, Edge)

## Test Suite Structure

### Test Case Format

- **Test ID**: Unique identifier for the test case
- **Test Title**: Brief description of what's being tested
- **Prerequisites**: Conditions that must be met before test execution
- **Test Steps**: Numbered steps to execute the test
- **Expected Results**: What should happen after each step
- **Test Data**: Specific data to use during testing
- **Pass/Fail Criteria**: How to determine if the test passes or fails

## Test Cases

| Functional Area                  | Test ID    | Test Title                                            | Priority | Prerequisites                                                                          | Test Steps                                                                                                                                                                                                      | Expected Results                                                                                                                                                                                                                                                | Test Data                                                                                                                     | Pass/Fail Criteria                                                                            |
| -------------------------------- | ---------- | ----------------------------------------------------- | -------- | -------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------- |
| **Manage Users Screen Display**  | TC-AUM-001 | 1.1 Verify Manage Users Screen Access                 | High     | User is logged in as Institution Administrator                                         | 1. Navigate to main administrator screen<br>2. Click on "Users" menu in left navigation area                                                                                                                    | 1. Main administrator screen is displayed<br>2. "Manage Users" screen is displayed                                                                                                                                                                              | Admin user credentials                                                                                                        | Test passes if Manage Users screen is displayed after clicking Users menu                     |
|                                  | TC-AUM-002 | 1.2 Verify Manage Users Screen Elements               | High     | Institution Administrator is on Manage Users screen                                    | 1. Observe the Search box<br>2. Observe the Invite Users button<br>3. Observe the Filter dropdown<br>4. Observe the user list rows                                                                              | 1. Search box is present with placeholder text<br>2. Invite Users button is visible and clickable<br>3. Filter dropdown is present for role filtering<br>4. Each user row displays all required information                                                     | N/A                                                                                                                           | Test passes if all screen elements are present and match requirements                         |
|                                  | TC-AUM-003 | 1.3 Verify User Row Content                           | High     | Institution Administrator is on Manage Users screen with existing users                | 1. Observe user row for a registered user<br>2. Check User Name field<br>3. Check Email field<br>4. Check Roles display<br>5. Check Add Roles link<br>6. Check Active toggle<br>7. Check Last Updated timestamp | 1. User row is displayed<br>2. User Name is visible and not editable<br>3. Email is visible and not editable<br>4. Assigned roles are displayed as chips<br>5. Add Roles link is visible<br>6. Active toggle is displayed<br>7. Last Updated timestamp is shown | Test users with roles:<br>- "John Doe" <john.doe@test.com><br>Roles: Admin, Coordinator                                       | Test passes if all user row elements are present and correctly formatted                      |
|                                  | TC-AUM-004 | 1.4 Verify Resend Invite Button Display               | Medium   | Institution Administrator is on Manage Users screen                                    | 1. Locate user row for invited but unregistered user<br>2. Observe the control in place of Active toggle                                                                                                        | 1. User row is displayed<br>2. "Resend Invite" button is displayed instead of Active toggle                                                                                                                                                                     | Invited user email: newuser@test.com (not yet registered)                                                                     | Test passes if Resend Invite button appears for invited but unregistered users                |
| **Search Functionality**         | TC-AUM-005 | 2.1 Verify Search by User Name                        | High     | Institution Administrator is on Manage Users screen with multiple users                | 1. Click on Search box<br>2. Type partial or full user name<br>3. Observe user list                                                                                                                             | 1. Cursor appears in search box<br>2. User list filters dynamically as text is entered<br>3. Only users matching the search term by name are displayed                                                                                                          | Search terms:<br>- "John" (partial)<br>- "John Doe" (full name)                                                               | Test passes if user list filters correctly based on user name search                          |
|                                  | TC-AUM-006 | 2.2 Verify Search by Email                            | High     | Institution Administrator is on Manage Users screen with multiple users                | 1. Click on Search box<br>2. Type partial or full email address<br>3. Observe user list                                                                                                                         | 1. Cursor appears in search box<br>2. User list filters dynamically as text is entered<br>3. Only users matching the search term by email are displayed                                                                                                         | Search terms:<br>- "doe@" (partial)<br>- "john.doe@test.com" (full email)                                                     | Test passes if user list filters correctly based on email search                              |
|                                  | TC-AUM-007 | 2.3 Verify Real-time Search Filtering                 | Medium   | Institution Administrator is on Manage Users screen                                    | 1. Click on Search box<br>2. Type text character by character<br>3. Observe user list after each character                                                                                                      | 1. Cursor appears in search box<br>2. User list updates after each character typed<br>3. Filter results refine progressively with each character                                                                                                                | Search term typed slowly: "j" then "o" then "h" then "n"                                                                      | Test passes if user list updates dynamically with each character entered                      |
| **Filter Functionality**         | TC-AUM-008 | 3.1 Verify Filter Dropdown Display                    | High     | Institution Administrator is on Manage Users screen                                    | 1. Click on Filter dropdown                                                                                                                                                                                     | 1. Dropdown opens and displays list of available roles including Admin, Coordinator, Provider, etc.                                                                                                                                                             | N/A                                                                                                                           | Test passes if filter dropdown opens and displays all available roles                         |
|                                  | TC-AUM-009 | 3.2 Verify Single Role Filter                         | High     | Institution Administrator is on Manage Users screen                                    | 1. Click on Filter dropdown<br>2. Select one role (e.g., Admin)<br>3. Observe user list                                                                                                                         | 1. Dropdown opens<br>2. Role is selected<br>3. User list filters to show only users with selected role                                                                                                                                                          | Role to select: "Admin"                                                                                                       | Test passes if only users with the selected role are displayed                                |
|                                  | TC-AUM-010 | 3.3 Verify Multiple Role Filter                       | Medium   | Institution Administrator is on Manage Users screen                                    | 1. Click on Filter dropdown<br>2. Select multiple roles (e.g., Admin and Coordinator)<br>3. Observe user list                                                                                                   | 1. Dropdown opens<br>2. Multiple roles are selected<br>3. User list filters to show users with any of the selected roles                                                                                                                                        | Roles to select: "Admin", "Coordinator"                                                                                       | Test passes if users with any of the selected roles are displayed                             |
|                                  | TC-AUM-011 | 3.4 Verify Coordinator Role Display                   | Medium   | Institution Administrator is on Manage Users screen                                    | 1. Click on Filter dropdown<br>2. Look for role options in dropdown                                                                                                                                             | 1. Dropdown opens<br>2. "Coordinator" role is displayed (not "Clinician")                                                                                                                                                                                       | N/A                                                                                                                           | Test passes if "Coordinator" appears instead of "Clinician" in filter dropdown                |
| **Invite User Functionality**    | TC-AUM-012 | 4.1 Verify Invite User Popup Display                  | High     | Institution Administrator is on Manage Users screen                                    | 1. Click on "Invite User" button                                                                                                                                                                                | 1. "Invite User" popup is displayed with all required fields: First Name, Last Name, Email, Institution dropdown, Role dropdown, Cancel button, Send Invite button                                                                                              | N/A                                                                                                                           | Test passes if Invite User popup appears with all required fields                             |
|                                  | TC-AUM-013 | 4.2 Verify Institution Default (Single)               | Medium   | Single-institution Admin is on Invite User popup                                       | 1. Observe Institution dropdown in Invite User popup                                                                                                                                                            | 1. Institution dropdown defaults to Admin's current institution                                                                                                                                                                                                 | Admin with access to single institution: "Test Clinic"                                                                        | Test passes if Institution dropdown defaults to Admin's institution                           |
|                                  | TC-AUM-014 | 4.3 Verify Institution Options (Multi)                | Medium   | Multi-institution Admin is on Invite User popup                                        | 1. Click on Institution dropdown<br>2. Observe available options                                                                                                                                                | 1. Dropdown displays all institutions accessible to the Admin<br>2. Admin can select any accessible institution                                                                                                                                                 | Admin with access to institutions: "Clinic A", "Clinic B", "Clinic C"                                                         | Test passes if all accessible institutions are available in dropdown                          |
|                                  | TC-AUM-015 | 4.4 Verify Send Invite Button State                   | High     | Institution Administrator is on Invite User popup                                      | 1. Observe Send Invite button initially<br>2. Fill in First Name only<br>3. Fill in Last Name<br>4. Fill in Email<br>5. Select Institution<br>6. Select Role<br>7. Observe Send Invite button                   | 1. Send Invite button is disabled<br>2. Button remains disabled<br>3. Button remains disabled<br>4. Button remains disabled<br>5. Button remains disabled<br>6. Button becomes enabled when all fields are filled                                               | First Name: "Jane"<br>Last Name: "Smith"<br>Email: "jane.smith@test.com"<br>Institution: "Test Clinic"<br>Role: "Coordinator" | Test passes if Send Invite button is disabled until all fields are filled                     |
|                                  | TC-AUM-016 | 4.5 Verify Cancel Button Functionality                | Medium   | Institution Administrator is on Invite User popup with fields filled                   | 1. Fill in all fields in Invite User popup<br>2. Click "Cancel" button<br>3. Check email server for invitations                                                                                                 | 1. Fields are filled<br>2. Popup is dismissed and Manage Users screen is displayed<br>3. No invitation email was sent                                                                                                                                           | First Name: "Test"<br>Last Name: "User"<br>Email: "testuser@test.com"                                                         | Test passes if popup closes without sending invitation                                        |
|                                  | TC-AUM-017 | 4.6 Verify Send Invite Functionality                  | High     | Institution Administrator is on Invite User popup                                      | 1. Fill in all required fields<br>2. Click "Send Invite" button<br>3. Check email server for invitation<br>4. Verify invitation email content                                                                   | 1. All fields are filled<br>2. Popup is dismissed<br>3. Invitation email is sent to specified address<br>4. Email contains registration link for eNOW                                                                                                           | First Name: "New"<br>Last Name: "User"<br>Email: "newuser@test.com"<br>Institution: "Test Clinic"<br>Role: "Coordinator"      | Test passes if invitation email is sent with registration link and popup closes               |
| **Role Management**              | TC-AUM-018 | 5.1 Verify Remove Role via X Button                   | High     | Institution Administrator is on Manage Users screen with user having multiple roles    | 1. Locate user with multiple roles<br>2. Click "X" on one role chip<br>3. Observe user's role list                                                                                                              | 1. User row displays multiple role chips<br>2. Role chip is removed<br>3. User's role list no longer includes the removed role                                                                                                                                  | User: "John Doe" with roles ["Admin", "Coordinator"]<br>Remove: "Admin" role                                                  | Test passes if role is removed from user's role list                                          |
|                                  | TC-AUM-019 | 5.2 Verify Add Roles Link Display                     | High     | Institution Administrator is on Manage Users screen                                    | 1. Locate user row<br>2. Click "Add Roles" link<br>3. Observe displayed list                                                                                                                                    | 1. User row is visible<br>2. List of available roles is displayed<br>3. Roles not currently assigned to user are shown                                                                                                                                          | User: "Jane Smith" with roles ["Coordinator"]                                                                                 | Test passes if available roles are displayed when Add Roles is clicked                        |
|                                  | TC-AUM-020 | 5.3 Verify Add Role to User                           | High     | Institution Administrator is on Add Roles list for a user                              | 1. Select a role from available roles list<br>2. Observe user's role list                                                                                                                                       | 1. Role is selected<br>2. Selected role is added to user's role list and displayed as a chip                                                                                                                                                                    | User: "Jane Smith"<br>Add role: "Provider"                                                                                    | Test passes if selected role is added to user's role list                                     |
|                                  | TC-AUM-021 | 5.4 Verify Coordinator Role in Add Roles              | Medium   | Institution Administrator is on Add Roles list                                         | 1. Open Add Roles list<br>2. Look for role options                                                                                                                                                              | 1. Add Roles list is displayed<br>2. "Coordinator" role is shown (not "Clinician")                                                                                                                                                                              | N/A                                                                                                                           | Test passes if "Coordinator" appears instead of "Clinician" in Add Roles list                 |
|                                  | TC-AUM-022 | 5.5 Verify Provider Role Onboarding                   | High     | Institution Administrator adds Provider role to user without Provider role             | 1. Select user without Provider role<br>2. Click Add Roles<br>3. Add "Provider" role<br>4. Log in as that user<br>5. Observe screen presented                                                                   | 1. User without Provider role is selected<br>2. Add Roles list opens<br>3. Provider role is added<br>4. User logs in successfully<br>5. Provider onboarding screen is presented                                                                                 | User: "Test User" without Provider role<br>Add: "Provider" role                                                               | Test passes if Provider onboarding screen appears on next login after adding Provider role    |
| **User Activation/Deactivation** | TC-AUM-023 | 6.1 Verify Active Toggle Display for Registered Users | High     | Institution Administrator is on Manage Users screen                                    | 1. Locate registered user row<br>2. Observe control for activation                                                                                                                                              | 1. Registered user row is displayed<br>2. Active toggle is shown (not Resend Invite button)                                                                                                                                                                     | Registered user: "John Doe"                                                                                                   | Test passes if Active toggle is displayed for registered users                                |
|                                  | TC-AUM-024 | 6.2 Verify Reactivate User (Toggle Off to On)         | High     | Institution Administrator is on Manage Users screen with deactivated user              | 1. Locate user with Active toggle in Off state<br>2. Click on the Active toggle<br>3. Observe toggle state and user status                                                                                      | 1. User with Off toggle is located<br>2. Toggle switches to On state<br>3. User is reactivated in the system                                                                                                                                                    | User: "Jane Smith" with Active toggle = Off                                                                                   | Test passes if toggle switches to On and user is reactivated                                  |
|                                  | TC-AUM-025 | 6.3 Verify Deactivate User (Toggle On to Off)         | High     | Institution Administrator is on Manage Users screen with active user                   | 1. Locate user with Active toggle in On state<br>2. Click on the Active toggle<br>3. Observe toggle state and user status                                                                                       | 1. User with On toggle is located<br>2. Toggle switches to Off state<br>3. User is deactivated in the system                                                                                                                                                    | User: "John Doe" with Active toggle = On                                                                                      | Test passes if toggle switches to Off and user is deactivated                                 |
|                                  | TC-AUM-026 | 6.4 Verify Resend Invite Button Functionality         | Medium   | Institution Administrator is on Manage Users screen with invited but unregistered user | 1. Locate user with Resend Invite button<br>2. Click "Resend Invite" button<br>3. Check email server for new invitation                                                                                         | 1. User with Resend Invite button is located<br>2. Button is clicked<br>3. New invitation email is sent to user's email address                                                                                                                                 | Invited user: "newuser@test.com" (not yet registered)                                                                         | Test passes if new invitation email is sent when Resend Invite is clicked                     |
| **Integration Tests**            | TC-AUM-027 | 7.1 Verify Search and Filter Combined                 | Medium   | Institution Administrator is on Manage Users screen with multiple users                | 1. Type search term in Search box<br>2. Select role in Filter dropdown<br>3. Observe user list                                                                                                                  | 1. Search filters users by name/email<br>2. Filter further refines by role<br>3. User list shows only users matching both search term and selected role                                                                                                         | Search: "John"<br>Filter: "Admin"                                                                                             | Test passes if users match both search and filter criteria                                    |
|                                  | TC-AUM-028 | 7.2 Verify Add and Remove Multiple Roles              | High     | Institution Administrator is on Manage Users screen                                    | 1. Select user with one role<br>2. Add two additional roles<br>3. Remove original role<br>4. Observe user's final role list                                                                                     | 1. User has one role initially<br>2. User now has three roles<br>3. Original role is removed<br>4. User has two roles remaining                                                                                                                                 | User: "Test User" with role "Coordinator"<br>Add: "Admin", "Provider"<br>Remove: "Coordinator"                                | Test passes if roles are added and removed correctly, final list shows "Admin" and "Provider" |
|                                  | TC-AUM-029 | 7.3 Verify Invite, Activate, Deactivate Workflow      | High     | Institution Administrator is on Manage Users screen                                    | 1. Invite new user<br>2. User registers via email link<br>3. Verify Active toggle appears<br>4. Deactivate user<br>5. Reactivate user                                                                           | 1. Invitation sent, Resend Invite button appears<br>2. User registers successfully<br>3. Active toggle replaces Resend Invite button<br>4. Toggle switches to Off<br>5. Toggle switches back to On                                                              | New user: "workflow@test.com"                                                                                                 | Test passes if complete workflow from invite to activation works correctly                    |
|                                  | TC-AUM-030 | 7.4 Verify Last Updated Timestamp                     | Low      | Institution Administrator is on Manage Users screen                                    | 1. Note Last Updated timestamp for a user<br>2. Modify user (add/remove role or change activation)<br>3. Observe Last Updated timestamp                                                                         | 1. Last Updated timestamp is recorded<br>2. User modification is completed<br>3. Last Updated timestamp is updated to reflect recent change                                                                                                                     | User: "John Doe"<br>Action: Add role "Provider"                                                                               | Test passes if Last Updated timestamp updates after user modification                         |

## Traceability Matrix

| Requirement ID | Test Case ID                                   |
| -------------- | ---------------------------------------------- |
| 1.1            | TC-AUM-001                                     |
| 1.2            | TC-AUM-002                                     |
| 1.3            | TC-AUM-003, TC-AUM-004, TC-AUM-023             |
| 2.1, 2.2       | TC-AUM-005, TC-AUM-006, TC-AUM-007             |
| 3.1, 3.2, 3.3  | TC-AUM-008, TC-AUM-009, TC-AUM-010, TC-AUM-011 |
| 4.1, 4.2       | TC-AUM-012, TC-AUM-013, TC-AUM-014, TC-AUM-015 |
| 5.1, 5.2       | TC-AUM-016                                     |
| 6.1, 6.2       | TC-AUM-017                                     |
| 7.1, 7.2       | TC-AUM-018                                     |
| 8.1, 8.2, 8.3  | TC-AUM-019, TC-AUM-020, TC-AUM-021, TC-AUM-022 |
| 9.1, 9.2       | TC-AUM-023, TC-AUM-024                         |
| 10.1, 10.2     | TC-AUM-023, TC-AUM-025                         |

## Test Execution Checklist

- [ ] Test environment is configured and accessible
- [ ] Test Institution Administrator account is set up with appropriate permissions
- [ ] Multiple test user accounts with various roles are created
- [ ] Test email server is configured for monitoring invitation emails
- [ ] Multi-institution admin account is available (if testing multi-institution features)
- [ ] All browsers to be tested are installed and updated
- [ ] Test data is prepared for all test scenarios
- [ ] Invited but unregistered user accounts are available for testing

## Defect Reporting Guidelines

1. Capture screenshots of any defects, especially UI issues
2. Record exact steps to reproduce the issue
3. Note the browser and version used
4. Document any error messages or unexpected behavior
5. Specify the test data used when the defect occurred
6. Include the user role and permissions of the account used
7. Assign severity based on impact:
   - **Critical**: Cannot invite users, cannot manage roles, system crashes
   - **High**: Filter/search not working, activation toggle fails
   - **Medium**: UI elements misaligned, incorrect role names displayed
   - **Low**: Cosmetic issues, minor text inconsistencies

## Notes

- The "Clinician" role has been renamed to "Coordinator" throughout the system. All test cases verify this change.
- Provider role addition triggers Provider onboarding screen on next login - ensure this is tested thoroughly.
- Active toggle appears only for registered users; Resend Invite button appears for invited but unregistered users.
- Multi-institution testing requires special test account setup with access to multiple institutions.
- Last Updated timestamp should reflect the most recent activity for each user.
